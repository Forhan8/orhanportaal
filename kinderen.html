<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Neco SarÄ±bÄ±yÄ±k - AI ile KonuÅŸ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/png" href="/neco.png">
  <meta name="theme-color" content="#ffffff">
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(() => console.log("âœ… Service worker geregistreerd"))
        .catch(err => console.error("âŒ Service worker fout:", err));
    }
  </script>
</head>
<body style="font-family: sans-serif; text-align: center; padding: 40px;">
  <h1>ğŸ‘§ Neco SarÄ±bÄ±yÄ±k</h1>
  <p>Merhaba! Ben Neco. Bana bir ÅŸey yaz, sana cevap vereyim ğŸ§ </p>

  <img src="neco.png" alt="Neco SarÄ±bÄ±yÄ±k" width="200" style="margin-bottom: 20px;">

  <br>
  <input type="text" id="userInput" placeholder="Bana bir ÅŸey sor..." style="padding: 10px; width: 300px; font-size: 16px;">
  <button onclick="askGPT()" style="padding: 10px 20px; font-size: 16px; margin-left: 10px;">ğŸ§  Cevapla</button>

  <p id="response" style="margin-top: 30px; font-size: 18px;"></p>

  <script>
    async function askGPT() {
      const input = document.getElementById("userInput").value;
      const responseBox = document.getElementById("response");
      responseBox.innerText = "Bekleniyor...";

      try {
        const res = await fetch("http://localhost:5000/api/ask", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ message: input })
        });

        const data = await res.json();
        const reply = data.reply;
        responseBox.innerText = reply;

        // Spreek het antwoord uit in het Turks
        const utterance = new SpeechSynthesisUtterance(reply);
        utterance.lang = 'tr-TR';
        utterance.pitch = 1.2;
        utterance.rate = 1;
        speechSynthesis.speak(utterance);
      } catch (error) {
        responseBox.innerText = "Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.";
        console.error(error);
      }
    }
  </script>

  <p style="margin-top: 40px;">ğŸ“± Bu sayfayÄ± uygulama olarak kaydedebilirsin!</p>
</body>
</html>
